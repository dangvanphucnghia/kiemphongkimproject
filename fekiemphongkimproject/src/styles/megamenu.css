/* Mega Menu Styles - Tailwind CSS v4 */

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-right {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ========================================
   UTILITY CLASSES (Simple ones only)
   ======================================== */

@utility animate-slide-down {
  animation: slide-down 0.2s ease-out;
}

@utility animate-slide-right {
  animation: slide-right 0.2s ease-out;
}

/* ========================================
   SCROLLBAR STYLES (Using @layer)
   ======================================== */

@layer utilities {
  /* Hide scrollbar utility */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Thin scrollbar utility */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(156 163 175 / 0.5) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(156 163 175 / 0.5);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(156 163 175 / 0.8);
  }
}

/* ========================================
   COMPONENT CLASSES
   ======================================== */

@layer components {
  .mega-menu-container {
    @apply absolute left-0 top-full mt-1 z-[9999];
    @apply rounded-xl border border-gray-200 bg-white;
    @apply shadow-2xl min-w-[280px];
    @apply animate-slide-down;
  }
  
  .mega-menu-item {
    @apply relative z-10 flex items-center justify-between gap-3;
    @apply px-5 py-3 text-sm font-medium;
    @apply transition-all duration-200;
  }
  
  .mega-submenu {
    @apply absolute top-0 left-full ml-1;
    @apply min-w-[260px] rounded-xl;
    @apply border border-gray-200 bg-white shadow-xl;
    @apply py-2 z-[10000];
    @apply animate-slide-right;
  }
}

/* ========================================
   ADDITIONAL UTILITIES
   ======================================== */

@layer utilities {
  .menu-shadow-soft {
    box-shadow: 
      0 10px 40px -10px rgb(0 0 0 / 0.1),
      0 0 0 1px rgb(0 0 0 / 0.05);
  }

  .menu-shadow-strong {
    box-shadow: 
      0 20px 50px -12px rgb(0 0 0 / 0.15),
      0 0 0 1px rgb(0 0 0 / 0.05);
  }
  
  .menu-backdrop-blur {
    backdrop-filter: blur(4px);
    background-color: rgb(255 255 255 / 0.95);
  }
}

/* ========================================
   FOCUS STYLES (Accessibility)
   ======================================== */

.menu-item:focus-visible {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* ========================================
   USER SELECT
   ======================================== */

.menu-item {
  user-select: none;
  -webkit-user-select: none;
}

/* ========================================
   LOADING SKELETON
   ======================================== */

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.menu-skeleton {
  background: linear-gradient(
    90deg,
    #f3f4f6 25%,
    #e5e7eb 50%,
    #f3f4f6 75%
  );
  background-size: 200% 100%;
  animation: loading 1.5s ease-in-out infinite;
}

/* ========================================
   RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
  .animate-slide-right {
    animation: slide-down 0.2s ease-out;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .mega-menu-container,
  .mega-submenu {
    display: none !important;
  }
}

/* ========================================
   REDUCED MOTION
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .animate-slide-down,
  .animate-slide-right,
  .menu-item {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}